

<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    
        <title>Manage a package’s sample data | Pooch dev</title>
    

  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/style.css?v=63f081c0" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'sample-data';</script>
    <link rel="icon" href="_static/favicon.png"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hashes: Calculating and bypassing" href="hashes.html" />
    <link rel="prev" title="Fetching files from a registry" href="multiple-files.html" />
    <!-- Plausible analytics for anonymous usage statistics -->
    <script defer data-domain="fatiando.org" src="https://plausible.io/js/plausible.js"></script>

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Pooch <span class="project-version">dev</span></p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Home
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="about.html">Why use Pooch?</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="retrieve.html">Retrieving a single data file</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple-files.html">Fetching files from a registry</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Manage a package’s sample data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Training your Pooch</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="hashes.html">Hashes: Calculating and bypassing</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-defined-cache.html">User-defined cache location</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry-files.html">Registry files</a></li>
<li class="toctree-l1"><a class="reference internal" href="multiple-urls.html">Multiple download URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocols.html">Download protocols</a></li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">Logging and verbosity</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloaders.html">Downloaders: Customizing the download</a></li>
<li class="toctree-l1"><a class="reference internal" href="processors.html">Processors: Post-download actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="progressbars.html">Printing progress bars</a></li>
<li class="toctree-l1"><a class="reference internal" href="unpacking.html">Unpacking archives</a></li>
<li class="toctree-l1"><a class="reference internal" href="decompressing.html">Decompressing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">List of functions and classes (API)</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.create.html">pooch.create</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.Pooch.html">pooch.Pooch</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.retrieve.html">pooch.retrieve</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.os_cache.html">pooch.os_cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.make_registry.html">pooch.make_registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.file_hash.html">pooch.file_hash</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.check_version.html">pooch.check_version</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.get_logger.html">pooch.get_logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.HTTPDownloader.html">pooch.HTTPDownloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.FTPDownloader.html">pooch.FTPDownloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.SFTPDownloader.html">pooch.SFTPDownloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.DOIDownloader.html">pooch.DOIDownloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.Unzip.html">pooch.Unzip</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.Untar.html">pooch.Untar</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.Decompress.html">pooch.Decompress</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.test.html">pooch.test</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.typing.Action.html">pooch.typing.Action</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.typing.Downloader.html">pooch.typing.Downloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.typing.PathType.html">pooch.typing.PathType</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.typing.PathInputType.html">pooch.typing.PathInputType</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.typing.ParsedURL.html">pooch.typing.ParsedURL</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/generated/pooch.typing.Processor.html">pooch.typing.Processor</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="compatibility.html">Version compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing Pooch</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Documentation for other versions</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Community</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://www.fatiando.org/contact/">Join the community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fatiando/community/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fatiando/pooch/blob/main/CONTRIBUTING.md">How to contribute</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fatiando/pooch">Source code on GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/fatiando/pooch/blob/main/AUTHORS.md">Authors</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.fatiando.org">Fatiando a Terra</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/fatiando/pooch" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/fatiando/pooch/edit/main/doc/sample-data.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/fatiando/pooch/issues/new?title=Issue%20on%20page%20%2Fsample-data.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/sample-data.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Manage a package’s sample data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-problem">The problem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-setup">Basic setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#versioning">Versioning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#retry-failed-downloads">Retry failed downloads</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#disable-file-updates-for-testing">Disable file updates for testing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#where-to-go-from-here">Where to go from here</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="manage-a-package-s-sample-data">
<span id="intermediate"></span><h1>Manage a package’s sample data<a class="headerlink" href="#manage-a-package-s-sample-data" title="Link to this heading">#</a></h1>
<p>In this section, we’ll use Pooch to manage the download of a Python package’s
sample datasets.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The setup will be very similar to what we saw in <a class="reference internal" href="multiple-files.html#beginner"><span class="std std-ref">Fetching files from a registry</span></a>.
It may be helpful to read that first.</p>
</div>
<section id="the-problem">
<h2>The problem<a class="headerlink" href="#the-problem" title="Link to this heading">#</a></h2>
<p>In this example, we’ll work with the follow assumptions:</p>
<ul class="simple">
<li><p>You develop a Python library called <code class="docutils literal notranslate"><span class="pre">plumbus</span></code> for analysing data emitted by
interdimensional portals.</p></li>
<li><p>You want to distribute sample data so that your users can easily try out the
library by copying and pasting from the documentation.</p></li>
<li><p>You want to have a <code class="docutils literal notranslate"><span class="pre">plumbus.datasets</span></code> module that defines functions like
<code class="docutils literal notranslate"><span class="pre">fetch_c137()</span></code> that will return the data loaded as a
<a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html#pandas.DataFrame" title="(in pandas v2.3.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></a> for convenient access.</p></li>
<li><p>Your sample data are in a folder of your GitHub repository but you don’t want
to include the data files with your source and wheel distributions because of
their size.</p></li>
<li><p>You use git tags to mark releases of your project.</p></li>
<li><p>Your project has a variable that defines the version string.</p></li>
<li><p>The version string contains an indicator that the current commit is not a
release (like <code class="docutils literal notranslate"><span class="pre">'v1.2.3+12.d908jdl'</span></code> or <code class="docutils literal notranslate"><span class="pre">'v0.1+dev'</span></code>).</p></li>
</ul>
<p>For now, let’s say that this is the layout of your repository on GitHub:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>doc/
    ...
data/
    README.md
    c137.csv
    cronen.csv
plumbus/
    __init__.py
    ...
    datasets.py
setup.py
...
</pre></div>
</div>
<p>The sample data are stored in the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder of your repository.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Pooch can handle different use cases as well, like: FTP/SFTP, authenticated
HTTP, multiple URLs, decompressing and unpacking archives, etc.
See the tutorials under “Training your Pooch” and the documentation for
<a class="reference internal" href="api/generated/pooch.create.html#pooch.create" title="pooch.create"><code class="xref py py-func docutils literal notranslate"><span class="pre">pooch.create</span></code></a> and <a class="reference internal" href="api/generated/pooch.Pooch.html#pooch.Pooch" title="pooch.Pooch"><code class="xref py py-func docutils literal notranslate"><span class="pre">pooch.Pooch</span></code></a> for more options.</p>
</div>
</section>
<section id="basic-setup">
<h2>Basic setup<a class="headerlink" href="#basic-setup" title="Link to this heading">#</a></h2>
<p>This is what the <code class="docutils literal notranslate"><span class="pre">plumbus/datasets.py</span></code> file would look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Load sample data.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pooch</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">version</span>  <span class="c1"># The version string of your project</span>


<span class="n">BRIAN</span> <span class="o">=</span> <span class="n">pooch</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="c1"># Use the default cache folder for the operating system</span>
    <span class="n">path</span><span class="o">=</span><span class="n">pooch</span><span class="o">.</span><span class="n">os_cache</span><span class="p">(</span><span class="s2">&quot;plumbus&quot;</span><span class="p">),</span>
    <span class="c1"># The remote data is on Github</span>
    <span class="n">base_url</span><span class="o">=</span><span class="s2">&quot;https://github.com/rick/plumbus/raw/</span><span class="si">{version}</span><span class="s2">/data/&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
    <span class="c1"># If this is a development version, get the data from the &quot;main&quot; branch</span>
    <span class="n">version_dev</span><span class="o">=</span><span class="s2">&quot;main&quot;</span><span class="p">,</span>
    <span class="n">registry</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;c137.csv&quot;</span><span class="p">:</span> <span class="s2">&quot;sha256:19uheidhlkjdwhoiwuhc0uhcwljchw9ochwochw89dcgw9dcgwc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cronen.csv&quot;</span><span class="p">:</span> <span class="s2">&quot;sha256:1upodh2ioduhw9celdjhlfvhksgdwikdgcowjhcwoduchowjg8w&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">fetch_c137</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load the C-137 sample data as a pandas.DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># The file will be downloaded automatically the first time this is run</span>
    <span class="c1"># returns the file path to the downloaded file. Afterwards, Pooch finds</span>
    <span class="c1"># it in the local cache and doesn&#39;t repeat the download.</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">BRIAN</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s2">&quot;c137.csv&quot;</span><span class="p">)</span>
    <span class="c1"># The &quot;fetch&quot; method returns the full path to the downloaded data file.</span>
    <span class="c1"># All we need to do now is load it with our standard Python tools.</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>


<span class="k">def</span><span class="w"> </span><span class="nf">fetch_cronen</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load the Cronenberg sample data as a pandas.DataFrame.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">BRIAN</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s2">&quot;cronen.csv&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">data</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">BRIAN</span></code> variable captures the value returned by <a class="reference internal" href="api/generated/pooch.create.html#pooch.create" title="pooch.create"><code class="xref py py-func docutils literal notranslate"><span class="pre">pooch.create</span></code></a>,
which is an instance of the <a class="reference internal" href="api/generated/pooch.Pooch.html#pooch.Pooch" title="pooch.Pooch"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pooch</span></code></a> class. The class contains the
data registry (files, URLs, hashes, etc) and handles downloading files from the
registry using the <a class="reference internal" href="api/generated/pooch.Pooch.html#pooch.Pooch.fetch" title="pooch.Pooch.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fetch</span></code></a> method.
When the user calls <code class="docutils literal notranslate"><span class="pre">plumbus.datasets.fetch_c137()</span></code> for the first time, the
data file will be downloaded and stored in the local storage.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We’re using <a class="reference internal" href="api/generated/pooch.os_cache.html#pooch.os_cache" title="pooch.os_cache"><code class="xref py py-func docutils literal notranslate"><span class="pre">pooch.os_cache</span></code></a> to set the local folder to the default
cache location for the user’s operating system. You could also provide any
other path if you prefer.</p>
</div>
</section>
<section id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Link to this heading">#</a></h2>
<p>The files from different version of your project will be kept in separate
folders to make sure they don’t conflict with each other. This way, you can
safely update data files while maintaining backward compatibility. For example,
if <code class="docutils literal notranslate"><span class="pre">path=&quot;.plumbus&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">version=&quot;v0.1&quot;</span></code>, the data folder will be
<code class="docutils literal notranslate"><span class="pre">.plumbus/v0.1</span></code>.</p>
<p>When your project updates, Pooch will automatically setup a separate folder for
the new data files based on the given version string. The remote URL will also
be updated. Notice that there is a format specifier <code class="docutils literal notranslate"><span class="pre">{version}</span></code> in the URL
that Pooch substitutes for you.</p>
<p><strong>Versioning is optional</strong> and can be ignored by omitting the <code class="docutils literal notranslate"><span class="pre">version</span></code> and
<code class="docutils literal notranslate"><span class="pre">version_dev</span></code> arguments or setting them to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</section>
<section id="retry-failed-downloads">
<h2>Retry failed downloads<a class="headerlink" href="#retry-failed-downloads" title="Link to this heading">#</a></h2>
<p>When downloading data repeatedly, like in continuous integration, failures can
occur due to sporadic network outages or other factors outside of our control.
In these cases, it can be frustrating to have entire jobs fail because a single
download was not successful.</p>
<p>Pooch allows you to specify a number of times to retry the download in case of
failure by setting <code class="docutils literal notranslate"><span class="pre">retry_if_failed</span></code> in <a class="reference internal" href="api/generated/pooch.create.html#pooch.create" title="pooch.create"><code class="xref py py-func docutils literal notranslate"><span class="pre">pooch.create</span></code></a>. This setting
will be valid for all downloads attempted with <a class="reference internal" href="api/generated/pooch.Pooch.html#pooch.Pooch.fetch" title="pooch.Pooch.fetch"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pooch.Pooch.fetch</span></code></a>. The
download can fail because the file hash doesn’t match the known hash (due to a
partial download, for example) or because of network errors coming from
<a class="reference external" href="https://requests.readthedocs.io/en/latest/api/#module-requests" title="(in Requests v2.32.5)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">requests</span></code></a>. Other errors (file system permission errors, etc) will still
result in a failed download.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires Pooch &gt;= 1.3.0.</p>
</div>
</section>
<section id="disable-file-updates-for-testing">
<h2>Disable file updates for testing<a class="headerlink" href="#disable-file-updates-for-testing" title="Link to this heading">#</a></h2>
<p>Sometimes we can forget to update the hash of a file in the registry when we
change one of the existing data files.
If this happens in a pull request or any branch that is not the default, Pooch
will detect that there is a mismatch and will update the local file by
re-downloading (usually from the default development branch).
If your tests don’t check the file contents exactly (which is usually not
practical), you can have tests that pass on development or continuous
integration and then fail once a pull request is merged.</p>
<p>In these cases, it is better to temporarily disallow file updates so that Pooch
raises an error when the hash doesn’t match (indicating that you forgot to
update it).
To do so, use the <code class="docutils literal notranslate"><span class="pre">allow_updates</span></code> argument in <a class="reference internal" href="api/generated/pooch.create.html#pooch.create" title="pooch.create"><code class="xref py py-func docutils literal notranslate"><span class="pre">pooch.create</span></code></a>.
Setting this to <code class="docutils literal notranslate"><span class="pre">False</span></code> will mean that a hash mismatch between local file and
the registry always results in an error.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We <strong>do not recommend setting this permanenetly to</strong> <code class="docutils literal notranslate"><span class="pre">False</span></code>. Instead,
set it to the name of an environment variable that activates this
behaviour, like <code class="docutils literal notranslate"><span class="pre">pooch.create(...,</span>
<span class="pre">allow_updates=&quot;MYPROJECT_ALLOW_UPDATES&quot;)</span></code>.
Then you can set <code class="docutils literal notranslate"><span class="pre">MYPROJECT_ALLOW_UPDATES=false</span></code> on continuous
integration or when running your tests locally.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires Pooch &gt;= 1.6.0.</p>
</div>
</section>
<section id="where-to-go-from-here">
<h2>Where to go from here<a class="headerlink" href="#where-to-go-from-here" title="Link to this heading">#</a></h2>
<p>Pooch has more features for handling different download protocols, handling
large registries, downloading from multiple sources, and more. Check out the
tutorials under “Training your Pooch” for more information.</p>
<p>Most users will also benefit from reading at least:</p>
<ul class="simple">
<li><p><a class="reference internal" href="user-defined-cache.html#environmentvariable"><span class="std std-ref">User-defined cache location</span></a></p></li>
<li><p><a class="reference internal" href="hashes.html#hashes"><span class="std std-ref">Hashes: Calculating and bypassing</span></a></p></li>
<li><p><a class="reference internal" href="registry-files.html#registryfiles"><span class="std std-ref">Registry files</span></a></p></li>
</ul>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="multiple-files.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Fetching files from a registry</p>
      </div>
    </a>
    <a class="right-next"
       href="hashes.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Hashes: Calculating and bypassing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-problem">The problem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-setup">Basic setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#versioning">Versioning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#retry-failed-downloads">Retry failed downloads</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#disable-file-updates-for-testing">Disable file updates for testing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#where-to-go-from-here">Where to go from here</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, The Pooch Developers.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on Sep 15, 2025.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>